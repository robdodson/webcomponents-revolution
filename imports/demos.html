<template id="widget-template">
  <style>h4 { color: red; }</style>
  <div>
    <h4>I am a widget!</h4>
  </div>
</template>

<script>
  (function () {
    var link = document.querySelector('link[href$="demos.html"');
    var template = link.import.querySelector("#widget-template");

    var WidgetProto = Object.create(HTMLElement.prototype);

    WidgetProto.createdCallback = function() {
      var root = this.createShadowRoot();
      root.appendChild(template.content.cloneNode(true));
    };

    var Widget = document.register("my-widget", {
      prototype: WidgetProto
    });
  }());
</script>